=== Iniciando despliegue de Book Library ===
Instalando dependencias...

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
python3 is already the newest version (3.12.3-0ubuntu2).
python3 set to manually installed.
nginx is already the newest version (1.24.0-2ubuntu7.5).
git is already the newest version (1:2.43.0-1ubuntu7.3).
The following packages were automatically installed and are no longer required:
  adwaita-icon-theme alsa-topology-conf alsa-ucm-conf at-spi2-common
  at-spi2-core dconf-gsettings-backend dconf-service dkms fontconfig
  gsettings-desktop-schemas gtk-update-icon-cache hicolor-icon-theme
  humanity-icon-theme libasound2-data libasound2t64 libasyncns0
  libatk-bridge2.0-0t64 libatk1.0-0t64 libatspi2.0-0t64 libavahi-client3
  libavahi-common-data libavahi-common3 libcairo-gobject2 libcairo2 libcolord2
  libcups2t64 libdatrie1 libdconf1 libdecor-0-0 libdecor-0-plugin-1-gtk
  libdouble-conversion3 libdrm-amdgpu1 libdrm-intel1 libegl-mesa0 libegl1
  libepoxy0 libflac12t64 libgbm1 libgdk-pixbuf-2.0-0 libgdk-pixbuf2.0-bin
  libgdk-pixbuf2.0-common libgl1 libgl1-mesa-dri libglvnd0 libglx-mesa0
  libglx0 libgraphite2-3 libgsoap-2.8.132t64 libgtk-3-0t64 libgtk-3-bin
  libgtk-3-common libharfbuzz0b libice6 libinput-bin libinput10 liblcms2-2
  libllvm20 liblzf1 libmd4c0 libmp3lame0 libmpg123-0t64 libmtdev1t64 libogg0
  libopus0 libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0 libpciaccess0
  libpcre2-16-0 libpixman-1-0 libpulse0 libqt5core5t64 libqt5dbus5t64
  libqt5gui5t64 libqt5help5 libqt5network5t64 libqt5opengl5t64
  libqt5printsupport5t64 libqt5qml5 libqt5qmlmodels5 libqt5quick5
  libqt5sql5-sqlite libqt5sql5t64 libqt5svg5 libqt5waylandclient5
  libqt5waylandcompositor5 libqt5widgets5t64 libqt5x11extras5 libqt5xml5t64
  librsvg2-2 librsvg2-common libsamplerate0 libsdl2-2.0-0 libsm6 libsndfile1
  libthai-data libthai0 libtpms0 libvncserver1 libvorbis0a libvorbisenc2
  libvpx9 libvulkan1 libwacom-common libwacom9 libwayland-client0
  libwayland-cursor0 libwayland-egl1 libwayland-server0 libx11-xcb1
  libxcb-dri3-0 libxcb-glx0 libxcb-icccm4 libxcb-image0 libxcb-keysyms1
  libxcb-present0 libxcb-randr0 libxcb-render-util0 libxcb-render0
  libxcb-shape0 libxcb-shm0 libxcb-sync1 libxcb-util1 libxcb-xfixes0
  libxcb-xinerama0 libxcb-xinput0 libxcb-xkb1 libxcomposite1 libxcursor1
  libxdamage1 libxfixes3 libxi6 libxinerama1 libxkbcommon-x11-0 libxrandr2
  libxrender1 libxshmfence1 libxss1 libxt6t64 libxtst6 libxxf86vm1
  mesa-libgallium mesa-vulkan-drivers qt5-gtk-platformtheme
  qttranslations5-l10n qtwayland5 session-migration ubuntu-mono
  virtualbox-dkms x11-common
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  javascript-common libexpat1-dev libjs-jquery libjs-sphinxdoc
  libjs-underscore libpython3-dev libpython3.12-dev python3-dev python3-wheel
  python3.12-dev zlib1g-dev
The following NEW packages will be installed:
  javascript-common libexpat1-dev libjs-jquery libjs-sphinxdoc
  libjs-underscore libpython3-dev libpython3.12-dev python3-dev python3-pip
  python3-venv python3-wheel python3.12-dev zlib1g-dev
0 upgraded, 13 newly installed, 0 to remove and 10 not upgraded.
Need to get 9,221 kB of archives.
After this operation, 41.2 MB of additional disk space will be used.
Get:1 http://ar.archive.ubuntu.com/ubuntu noble/main amd64 javascript-common all 11+nmu1 [5,936 B]
Get:2 http://ar.archive.ubuntu.com/ubuntu noble-updates/main amd64 libexpat1-dev amd64 2.6.1-2ubuntu0.3 [140 kB]
Get:3 http://ar.archive.ubuntu.com/ubuntu noble/main amd64 libjs-jquery all 3.6.1+dfsg+~3.5.14-1 [328 kB]
Get:4 http://ar.archive.ubuntu.com/ubuntu noble/main amd64 libjs-underscore all 1.13.4~dfsg+~1.11.4-3 [118 kB]
Get:5 http://ar.archive.ubuntu.com/ubuntu noble/main amd64 libjs-sphinxdoc all 7.2.6-6 [149 kB]
Get:6 http://ar.archive.ubuntu.com/ubuntu noble-updates/main amd64 zlib1g-dev amd64 1:1.3.dfsg-3.1ubuntu2.1 [894 kB]
Get:7 http://ar.archive.ubuntu.com/ubuntu noble-updates/main amd64 libpython3.12-dev amd64 3.12.3-1ubuntu0.8 [5,677 kB]
Get:8 http://ar.archive.ubuntu.com/ubuntu noble-updates/main amd64 libpython3-dev amd64 3.12.3-0ubuntu2 [10.3 kB]
Get:9 http://ar.archive.ubuntu.com/ubuntu noble-updates/main amd64 python3.12-dev amd64 3.12.3-1ubuntu0.8 [498 kB]
Get:10 http://ar.archive.ubuntu.com/ubuntu noble-updates/main amd64 python3-dev amd64 3.12.3-0ubuntu2 [26.7 kB]
Get:11 http://ar.archive.ubuntu.com/ubuntu noble/universe amd64 python3-wheel all 0.42.0-2 [53.1 kB]
Get:12 http://ar.archive.ubuntu.com/ubuntu noble-updates/universe amd64 python3-pip all 24.0+dfsg-1ubuntu1.3 [1,320 kB]
Get:13 http://ar.archive.ubuntu.com/ubuntu noble-updates/universe amd64 python3-venv amd64 3.12.3-0ubuntu2 [1,034 B]
Fetched 9,221 kB in 3s (3,323 kB/s)
Selecting previously unselected package javascript-common.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 105776 files and directories currently installed.)
Preparing to unpack .../00-javascript-common_11+nmu1_all.deb ...
Unpacking javascript-common (11+nmu1) ...
Selecting previously unselected package libexpat1-dev:amd64.
Preparing to unpack .../01-libexpat1-dev_2.6.1-2ubuntu0.3_amd64.deb ...
Unpacking libexpat1-dev:amd64 (2.6.1-2ubuntu0.3) ...
Selecting previously unselected package libjs-jquery.
Preparing to unpack .../02-libjs-jquery_3.6.1+dfsg+~3.5.14-1_all.deb ...
Unpacking libjs-jquery (3.6.1+dfsg+~3.5.14-1) ...
Selecting previously unselected package libjs-underscore.
Preparing to unpack .../03-libjs-underscore_1.13.4~dfsg+~1.11.4-3_all.deb ...
Unpacking libjs-underscore (1.13.4~dfsg+~1.11.4-3) ...
Selecting previously unselected package libjs-sphinxdoc.
Preparing to unpack .../04-libjs-sphinxdoc_7.2.6-6_all.deb ...
Unpacking libjs-sphinxdoc (7.2.6-6) ...
Selecting previously unselected package zlib1g-dev:amd64.
Preparing to unpack .../05-zlib1g-dev_1%3a1.3.dfsg-3.1ubuntu2.1_amd64.deb ...
Unpacking zlib1g-dev:amd64 (1:1.3.dfsg-3.1ubuntu2.1) ...
Selecting previously unselected package libpython3.12-dev:amd64.
Preparing to unpack .../06-libpython3.12-dev_3.12.3-1ubuntu0.8_amd64.deb ...
Unpacking libpython3.12-dev:amd64 (3.12.3-1ubuntu0.8) ...
Selecting previously unselected package libpython3-dev:amd64.
Preparing to unpack .../07-libpython3-dev_3.12.3-0ubuntu2_amd64.deb ...
Unpacking libpython3-dev:amd64 (3.12.3-0ubuntu2) ...
Selecting previously unselected package python3.12-dev.
Preparing to unpack .../08-python3.12-dev_3.12.3-1ubuntu0.8_amd64.deb ...
Unpacking python3.12-dev (3.12.3-1ubuntu0.8) ...
Selecting previously unselected package python3-dev.
Preparing to unpack .../09-python3-dev_3.12.3-0ubuntu2_amd64.deb ...
Unpacking python3-dev (3.12.3-0ubuntu2) ...
Selecting previously unselected package python3-wheel.
Preparing to unpack .../10-python3-wheel_0.42.0-2_all.deb ...
Unpacking python3-wheel (0.42.0-2) ...
Selecting previously unselected package python3-pip.
Preparing to unpack .../11-python3-pip_24.0+dfsg-1ubuntu1.3_all.deb ...
Unpacking python3-pip (24.0+dfsg-1ubuntu1.3) ...
Selecting previously unselected package python3-venv.
Preparing to unpack .../12-python3-venv_3.12.3-0ubuntu2_amd64.deb ...
Unpacking python3-venv (3.12.3-0ubuntu2) ...
Setting up javascript-common (11+nmu1) ...
apache2_invoke: Enable configuration javascript-common
Setting up python3-wheel (0.42.0-2) ...
Setting up libexpat1-dev:amd64 (2.6.1-2ubuntu0.3) ...
Setting up python3-venv (3.12.3-0ubuntu2) ...
Setting up python3-pip (24.0+dfsg-1ubuntu1.3) ...
Setting up zlib1g-dev:amd64 (1:1.3.dfsg-3.1ubuntu2.1) ...
Setting up libjs-jquery (3.6.1+dfsg+~3.5.14-1) ...
Setting up libjs-underscore (1.13.4~dfsg+~1.11.4-3) ...
Setting up libpython3.12-dev:amd64 (3.12.3-1ubuntu0.8) ...
Setting up python3.12-dev (3.12.3-1ubuntu0.8) ...
Setting up libjs-sphinxdoc (7.2.6-6) ...
Setting up libpython3-dev:amd64 (3.12.3-0ubuntu2) ...
Setting up python3-dev (3.12.3-0ubuntu2) ...
Processing triggers for man-db (2.12.0-4build2) ...

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
Synchronizing state of nginx.service with SysV service script with /usr/lib/systemd/systemd-sysv-install.
Executing: /usr/lib/systemd/systemd-sysv-install enable nginx
Clonando la aplicación...
fatal: destination path 'devops-static-web' already exists and is not an empty directory.
Configurando entorno virtual...
Requirement already satisfied: certifi in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 1)) (2025.10.5)
Requirement already satisfied: click in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 2)) (8.3.0)
Requirement already satisfied: Flask in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 3)) (3.1.2)
Requirement already satisfied: Flask-SQLAlchemy in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 4)) (3.1.1)
Requirement already satisfied: Flask-WTF in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 5)) (1.2.2)
Requirement already satisfied: itsdangerous in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 6)) (2.2.0)
Requirement already satisfied: Jinja2 in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 7)) (3.1.6)
Requirement already satisfied: MarkupSafe in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 8)) (3.0.3)
Requirement already satisfied: SQLAlchemy in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 9)) (2.0.43)
Requirement already satisfied: Werkzeug in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 10)) (3.1.3)
Requirement already satisfied: WTForms in ./venv/lib/python3.12/site-packages (from -r requirements.txt (line 11)) (3.2.1)
Requirement already satisfied: blinker>=1.9.0 in ./venv/lib/python3.12/site-packages (from Flask->-r requirements.txt (line 3)) (1.9.0)
Requirement already satisfied: greenlet>=1 in ./venv/lib/python3.12/site-packages (from SQLAlchemy->-r requirements.txt (line 9)) (3.2.4)
Requirement already satisfied: typing-extensions>=4.6.0 in ./venv/lib/python3.12/site-packages (from SQLAlchemy->-r requirements.txt (line 9)) (4.15.0)
Requirement already satisfied: gunicorn in ./venv/lib/python3.12/site-packages (23.0.0)
Requirement already satisfied: packaging in ./venv/lib/python3.12/site-packages (from gunicorn) (25.0)
Iniciando Gunicorn...
[2025-10-06 00:00:19 +0000] [4032] [INFO] Starting gunicorn 23.0.0
[2025-10-06 00:00:19 +0000] [4032] [INFO] Listening at: http://0.0.0.0:8000 (4032)
[2025-10-06 00:00:19 +0000] [4032] [INFO] Using worker: sync
[2025-10-06 00:00:19 +0000] [4034] [INFO] Booting worker with pid: 4034
[2025-10-06 00:00:19 +0000] [4035] [INFO] Booting worker with pid: 4035
[2025-10-06 00:00:20 +0000] [4036] [INFO] Booting worker with pid: 4036
[2025-10-06 00:00:20 +0000] [4037] [INFO] Booting worker with pid: 4037
Configurando Nginx...
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
Verificando servicios...
✓ Nginx está activo
✓ Gunicorn está corriendo
✗ Puerto 8000 no está en uso
✓ Gunicorn responde correctamente
=== Despliegue finalizado ===
Revisá logs_despliegue.txt para detalles.
La aplicación debería estar disponible en: http://10.0.10.16
